import{p as et,i as tt,d as Q,ak as rt,$ as b,a2 as nt,u as c,c as m,r as Ee,b as _e,ap as W,o as w,k as x,q as xe,t as Pe,v as Ne,O as it,I as ot,H as st,F as ae,l as ue,f as G,g as Re,j as at}from"./antdv.415263d7.js";import{R as ce}from"./index.9e8b6c69.js";import{_ as K}from"./_plugin-vue_export-helper.cdc0426e.js";var Me=Symbol.for("DndContextType");function ut(t){et(Me,t)}function ct(){return tt(Me)}function O(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var le=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),j=function(){return Math.random().toString(36).substring(7).split("").join(".")},de={INIT:"@@redux/INIT"+j(),REPLACE:"@@redux/REPLACE"+j(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+j()}};function lt(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Le(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(O(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(O(1));return r(Le)(t,e)}if(typeof t!="function")throw new Error(O(2));var i=t,o=e,s=[],a=s,u=!1;function l(){a===s&&(a=s.slice())}function h(){if(u)throw new Error(O(3));return o}function v(p){if(typeof p!="function")throw new Error(O(4));if(u)throw new Error(O(5));var y=!0;return l(),a.push(p),function(){if(!!y){if(u)throw new Error(O(6));y=!1,l();var T=a.indexOf(p);a.splice(T,1),s=null}}}function f(p){if(!lt(p))throw new Error(O(7));if(typeof p.type>"u")throw new Error(O(8));if(u)throw new Error(O(9));try{u=!0,o=i(o,p)}finally{u=!1}for(var y=s=a,S=0;S<y.length;S++){var T=y[S];T()}return p}function d(p){if(typeof p!="function")throw new Error(O(10));i=p,f({type:de.REPLACE})}function D(){var p,y=v;return p={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(O(11));function C(){T.next&&T.next(h())}C();var E=y(C);return{unsubscribe:E}}},p[le]=function(){return this},p}return f({type:de.INIT}),n={dispatch:f,subscribe:v,getState:h,replaceReducer:d},n[le]=D,n}function g(t,e,...r){if(dt()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;n=new Error(e.replace(/%s/g,function(){return r[i++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function dt(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function ft(t,e,r){return e.split(".").reduce((n,i)=>n&&n[i]?n[i]:r||null,t)}function gt(t,e){return t.filter(r=>r!==e)}function Ae(t){return typeof t=="object"}function ht(t,e){const r=new Map,n=o=>{r.set(o,r.has(o)?r.get(o)+1:1)};t.forEach(n),e.forEach(n);const i=[];return r.forEach((o,s)=>{o===1&&i.push(s)}),i}function pt(t,e){return t.filter(r=>e.indexOf(r)>-1)}const Z="dnd-core/INIT_COORDS",L="dnd-core/BEGIN_DRAG",ee="dnd-core/PUBLISH_DRAG_SOURCE",A="dnd-core/HOVER",k="dnd-core/DROP",H="dnd-core/END_DRAG";function fe(t,e){return{type:Z,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const vt={type:Z,payload:{clientOffset:null,sourceClientOffset:null}};function yt(t){return function(r=[],n={publishSource:!0}){const{publishSource:i=!0,clientOffset:o,getSourceClientOffset:s}=n,a=t.getMonitor(),u=t.getRegistry();t.dispatch(fe(o)),mt(r,a,u);const l=Tt(r,a);if(l==null){t.dispatch(vt);return}let h=null;if(o){if(!s)throw new Error("getSourceClientOffset must be defined");Dt(s),h=s(l)}t.dispatch(fe(o,h));const f=u.getSource(l).beginDrag(a,l);if(f==null)return;St(f),u.pinSource(l);const d=u.getSourceType(l);return{type:L,payload:{itemType:d,item:f,sourceId:l,clientOffset:o||null,sourceClientOffset:h||null,isSourcePublic:!!i}}}}function mt(t,e,r){g(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){g(r.getSource(n),"Expected sourceIds to be registered.")})}function Dt(t){g(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function St(t){g(Ae(t),"Item must be an object.")}function Tt(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function Ot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function It(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Ot(t,i,r[i])})}return t}function bt(t){return function(r={}){const n=t.getMonitor(),i=t.getRegistry();Ct(n),_t(n).forEach((s,a)=>{const u=wt(s,a,i,n),l={type:k,payload:{dropResult:It({},r,u)}};t.dispatch(l)})}}function Ct(t){g(t.isDragging(),"Cannot call drop while not dragging."),g(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function wt(t,e,r,n){const i=r.getTarget(t);let o=i?i.drop(n,t):void 0;return Et(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function Et(t){g(typeof t>"u"||Ae(t),"Drop result must either be an object or undefined.")}function _t(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function xt(t){return function(){const r=t.getMonitor(),n=t.getRegistry();Pt(r);const i=r.getSourceId();return i!=null&&(n.getSource(i,!0).endDrag(r,i),n.unpinSource()),{type:H}}}function Pt(t){g(t.isDragging(),"Cannot call endDrag while not dragging.")}function Y(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function Nt(t){return function(r,{clientOffset:n}={}){Rt(r);const i=r.slice(0),o=t.getMonitor(),s=t.getRegistry(),a=o.getItemType();return Lt(i,s,a),Mt(i,o,s),At(i,o,s),{type:A,payload:{targetIds:i,clientOffset:n||null}}}}function Rt(t){g(Array.isArray(t),"Expected targetIds to be an array.")}function Mt(t,e,r){g(e.isDragging(),"Cannot call hover while not dragging."),g(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const i=t[n];g(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");const o=r.getTarget(i);g(o,"Expected targetIds to be registered.")}}function Lt(t,e,r){for(let n=t.length-1;n>=0;n--){const i=t[n],o=e.getTargetType(i);Y(o,r)||t.splice(n,1)}}function At(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function kt(t){return function(){if(t.getMonitor().isDragging())return{type:ee}}}function Ht(t){return{beginDrag:yt(t),publishDragSource:kt(t),hover:Nt(t),drop:bt(t),endDrag:xt(t)}}class $t{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(o){return(...s)=>{const a=o.apply(e,s);typeof a<"u"&&r(a)}}const i=Ht(this);return Object.keys(i).reduce((o,s)=>{const a=i[s];return o[s]=n(a),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function jt(t,e){return{x:t.x+e.x,y:t.y+e.y}}function ke(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ut(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:ke(jt(e,n),r)}function Ft(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:ke(e,r)}const N=[],te=[];N.__IS_NONE__=!0;te.__IS_ALL__=!0;function qt(t,e){return t===N?!1:t===te||typeof e>"u"?!0:pt(e,t).length>0}class Bt{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;g(typeof e=="function","listener must be a function."),g(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const o=()=>{const s=this.store.getState(),a=s.stateId;try{a===i||a===i+1&&!qt(s.dirtyHandlerIds,n)||e()}finally{i=a}};return this.store.subscribe(o)}subscribeToOffsetChange(e){g(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const i=this.store.getState().dragOffset;i!==r&&(r=i,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return g(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(g(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();return Y(n,i)&&r.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(g(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),i=this.getItemType();return n!==i?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!Y(i,o))return!1;const s=this.getTargetIds();if(!s.length)return!1;const a=s.indexOf(e);return n?a===s.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Ut(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Ft(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const ge=typeof global<"u"?global:self,He=ge.MutationObserver||ge.WebKitMutationObserver;function $e(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function Vt(t){let e=1;const r=new He(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const Wt=typeof He=="function"?Vt:$e;class Gt{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Wt(this.flush),this.requestErrorThrow=$e(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Yt{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class Xt{create(e){const r=this.freeTasks,n=r.length?r.pop():new Yt(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const je=new Gt,zt=new Xt(je.registerPendingError);function Jt(t){je.enqueueTask(zt.create(t))}const re="dnd-core/ADD_SOURCE",ne="dnd-core/ADD_TARGET",ie="dnd-core/REMOVE_SOURCE",$="dnd-core/REMOVE_TARGET";function Qt(t){return{type:re,payload:{sourceId:t}}}function Kt(t){return{type:ne,payload:{targetId:t}}}function Zt(t){return{type:ie,payload:{sourceId:t}}}function er(t){return{type:$,payload:{targetId:t}}}function tr(t){g(typeof t.canDrag=="function","Expected canDrag to be a function."),g(typeof t.beginDrag=="function","Expected beginDrag to be a function."),g(typeof t.endDrag=="function","Expected endDrag to be a function.")}function rr(t){g(typeof t.canDrop=="function","Expected canDrop to be a function."),g(typeof t.hover=="function","Expected hover to be a function."),g(typeof t.drop=="function","Expected beginDrag to be a function.")}function X(t,e){if(e&&Array.isArray(t)){t.forEach(r=>X(r,!1));return}g(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var I;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(I||(I={}));let nr=0;function ir(){return nr++}function or(t){const e=ir().toString();switch(t){case I.SOURCE:return`S${e}`;case I.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function he(t){switch(t[0]){case"S":return I.SOURCE;case"T":return I.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function pe(t,e){const r=t.entries();let n=!1;do{const{done:i,value:[,o]}=r.next();if(o===e)return!0;n=!!i}while(!n);return!1}class sr{addSource(e,r){X(e),tr(r);const n=this.addHandler(I.SOURCE,e,r);return this.store.dispatch(Qt(n)),n}addTarget(e,r){X(e,!0),rr(r);const n=this.addHandler(I.TARGET,e,r);return this.store.dispatch(Kt(n)),n}containsHandler(e){return pe(this.dragSources,e)||pe(this.dropTargets,e)}getSource(e,r=!1){return g(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return g(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return g(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return g(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return he(e)===I.SOURCE}isTargetId(e){return he(e)===I.TARGET}removeSource(e){g(this.getSource(e),"Expected an existing source."),this.store.dispatch(Zt(e)),Jt(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){g(this.getTarget(e),"Expected an existing target."),this.store.dispatch(er(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);g(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){g(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const i=or(e);return this.types.set(i,r),e===I.SOURCE?this.dragSources.set(i,n):e===I.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const ar=(t,e)=>t===e;function ur(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function cr(t,e,r=ar){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function lr(t=N,e){switch(e.type){case A:break;case re:case ne:case $:case ie:return N;case L:case ee:case H:case k:default:return te}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,i=ht(r,n);if(!(i.length>0||!cr(r,n)))return N;const s=n[n.length-1],a=r[r.length-1];return s!==a&&(s&&i.push(s),a&&i.push(a)),i}function dr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){dr(t,i,r[i])})}return t}const ve={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function gr(t=ve,e){const{payload:r}=e;switch(e.type){case Z:case L:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case A:return ur(t.clientOffset,r.clientOffset)?t:fr({},t,{clientOffset:r.clientOffset});case H:case k:return ve;default:return t}}function hr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){hr(t,i,r[i])})}return t}const pr={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function vr(t=pr,e){const{payload:r}=e;switch(e.type){case L:return _({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case ee:return _({},t,{isSourcePublic:!0});case A:return _({},t,{targetIds:r.targetIds});case $:return t.targetIds.indexOf(r.targetId)===-1?t:_({},t,{targetIds:gt(t.targetIds,r.targetId)});case k:return _({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case H:return _({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function yr(t=0,e){switch(e.type){case re:case ne:return t+1;case ie:case $:return t-1;default:return t}}function mr(t=0){return t+1}function Dr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){Dr(t,i,r[i])})}return t}function Tr(t={},e){return{dirtyHandlerIds:lr(t.dirtyHandlerIds,{type:e.type,payload:Sr({},e.payload,{prevTargetIds:ft(t,"dragOperation.targetIds",[])})}),dragOffset:gr(t.dragOffset,e),refCount:yr(t.refCount,e),dragOperation:vr(t.dragOperation,e),stateId:mr(t.stateId)}}function Or(t,e=void 0,r={},n=!1){const i=Ir(n),o=new Bt(i,new sr(i)),s=new $t(i,o),a=t(s,e,r);return s.receiveBackend(a),s}function Ir(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Le(Tr,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function ye(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function br(t){if(Array.isArray(t))return t}function Cr(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function wr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Er(t,e){return br(t)||Cr(t,e)||_r(t,e)||wr()}function _r(t,e){if(!!t){if(typeof t=="string")return ye(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ye(t,e)}}var me=0,M=Symbol.for("__VUE_DND_CONTEXT_INSTANCE__");function xr(t){return"manager"in t&&t.manager}function Pr(t){if(xr(t)){var e=t.manager;return[e,!1]}var r=Nr(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[r,n]}function Nr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ue(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=e;return i[M]||(i[M]=Or(t,e,r,n)),i[M]}function Ue(){return typeof globalThis<"u"?globalThis:typeof global<"u"?global:window}const Rr=Q({name:"DndProvider",props:{manager:{type:Object},backend:{type:Function},context:{type:Object},options:{type:Object},debugMode:{type:Boolean}},setup:function(e,r){var n=r.slots,i=Er(Pr(e),2),o=i[0],s=i[1];s&&++me,rt(function(){if(s){var u=Ue();--me===0&&(u[M]=null)}}),ut(o);var a;return function(){var u;return(a=(u=n.default)===null||u===void 0?void 0:u.call(n))!==null&&a!==void 0?a:null}}});Q({props:{connect:{type:Function,required:!0},src:{type:String,required:!0}},setup:function(e){return b(function(){if(!(typeof Image>"u")){var r=!1,n=new Image;return n.src=e.src,n.onload=function(){e.connect(n),r=!0},function(){r&&e.connect(null)}}}),function(){return null}}});function Mr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var U=!1,F=!1,Lr=function(){function t(r){Mr(this,t),this.sourceId=null,this.internalMonitor=r.getMonitor()}var e=t.prototype;return e.receiveHandlerId=function(n){this.sourceId=n},e.getHandlerId=function(){return this.sourceId},e.canDrag=function(){g(!U,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return U=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{U=!1}},e.isDragging=function(){if(!this.sourceId)return!1;g(!F,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return F=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{F=!1}},e.subscribeToStateChange=function(n,i){return this.internalMonitor.subscribeToStateChange(n,i)},e.isDraggingSource=function(n){return this.internalMonitor.isDraggingSource(n)},e.isOverTarget=function(n,i){return this.internalMonitor.isOverTarget(n,i)},e.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.getSourceId=function(){return this.internalMonitor.getSourceId()},e.subscribeToOffsetChange=function(n){return this.internalMonitor.subscribeToOffsetChange(n)},e.canDragSource=function(n){return this.internalMonitor.canDragSource(n)},e.canDropOnTarget=function(n){return this.internalMonitor.canDropOnTarget(n)},e.getItemType=function(){return this.internalMonitor.getItemType()},e.getItem=function(){return this.internalMonitor.getItem()},e.getDropResult=function(){return this.internalMonitor.getDropResult()},e.didDrop=function(){return this.internalMonitor.didDrop()},e.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},t}();function Ar(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var q=!1,kr=function(){function t(r){Ar(this,t),this.targetId=null,this.internalMonitor=r.getMonitor()}var e=t.prototype;return e.receiveHandlerId=function(n){this.targetId=n},e.getHandlerId=function(){return this.targetId},e.subscribeToStateChange=function(n,i){return this.internalMonitor.subscribeToStateChange(n,i)},e.canDrop=function(){if(!this.targetId)return!1;g(!q,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return q=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{q=!1}},e.isOver=function(n){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,n):!1},e.getItemType=function(){return this.internalMonitor.getItemType()},e.getItem=function(){return this.internalMonitor.getItem()},e.getDropResult=function(){return this.internalMonitor.getDropResult()},e.didDrop=function(){return this.internalMonitor.didDrop()},e.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},t}(),Hr=function(t){return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t};function $r(t){return t?t.__v_isVNode===!0:!1}function jr(t){return t?t.__v_skip:!1}function Ur(t){return $r(t)&&Hr(t.type)!=="symbol"}function Fr(){throw new Error("Only native element nodes can now be passed to Vue DnD connectors.You can either wrap Component into a <div>, or turn it into a drag source or a drop target itself.")}function qr(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(jr(e)&&Fr(),!Ur(e)){var n=e;return t(n,r),n}}}function Fe(t){var e={};return Object.keys(t).forEach(function(r){var n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{var i=qr(n);e[r]=function(){return i}}}),e}function z(t,e,r,n){let i=r?r.call(n,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const o=Object.keys(t),s=Object.keys(e);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let u=0;u<o.length;u++){const l=o[u];if(!a(l))return!1;const h=t[l],v=e[l];if(i=r?r.call(n,h,v,l):void 0,i===!1||i===void 0&&h!==v)return!1}return!0}function Br(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Vr(t,e,r){return e&&De(t.prototype,e),r&&De(t,r),t}var Wr=function(){function t(r){var n=this;Br(this,t),this.hooks=Fe({dragSource:function(i,o){n.clearDragSource(),n.dragSourceOptions=o||null,n.dragSourceNode=i,n.reconnectDragSource()},dragPreview:function(i,o){n.clearDragPreview(),n.dragPreviewOptions=o||null,n.dragPreviewNode=i,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceOptionsInternal=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=r}var e=t.prototype;return e.receiveHandlerId=function(n){this.handlerId!==n&&(this.handlerId=n,this.reconnect())},e.reconnect=function(){var n=this.reconnectDragSource();this.reconnectDragPreview(n)},e.reconnectDragSource=function(){var n=this.dragSource,i=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return i&&this.disconnectDragSource(),this.handlerId?n?(i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=n,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,n,this.dragSourceOptions)),i):(this.lastConnectedDragSource=n,i):i},e.reconnectDragPreview=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.dragPreview,o=n||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(o&&this.disconnectDragPreview(),!!this.handlerId){if(!i){this.lastConnectedDragPreview=i;return}o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=i,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,i,this.dragPreviewOptions))}},e.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.didDragSourceOptionsChange=function(){return!z(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.didDragPreviewOptionsChange=function(){return!z(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)},e.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null)},e.clearDragSource=function(){this.dragSourceNode=null},e.clearDragPreview=function(){this.dragPreviewNode=null},Vr(t,[{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(n){this.dragSourceOptionsInternal=n}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(n){this.dragPreviewOptionsInternal=n}},{key:"dragSource",get:function(){return this.dragSourceNode}},{key:"dragPreview",get:function(){return this.dragPreviewNode}}]),t}();function Gr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Yr(t,e,r){return e&&Se(t.prototype,e),r&&Se(t,r),t}var Xr=function(){function t(r){var n=this;Gr(this,t),this.hooks=Fe({dropTarget:function(i,o){n.clearDropTarget(),n.dropTargetOptions=o,nt(i)?n.dropTargetRef=i:n.dropTargetNode=i,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=r}var e=t.prototype;return e.reconnect=function(){var n=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();n&&this.disconnectDropTarget();var i=this.dropTarget;if(!!this.handlerId){if(!i){this.lastConnectedDropTarget=i;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=i,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,i,this.dropTargetOptions))}},e.receiveHandlerId=function(n){n!==this.handlerId&&(this.handlerId=n,this.reconnect())},e.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.didOptionsChange=function(){return!z(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},e.clearDropTarget=function(){this.dropTargetRef=null,this.dropTargetNode=null},Yr(t,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(n){this.dropTargetOptionsInternal=n}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.value}}]),t}();function zr(t,e,r){var n=c(r).getRegistry(),i=n.addTarget(c(t),c(e));return[i,function(){return n.removeTarget(i)}]}function Jr(t,e,r){var n=r.getRegistry(),i=n.addSource(t,e);return[i,function(){return n.removeSource(i)}]}function Qr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Kr=function(){function t(r,n,i){Qr(this,t),this.spec=r,this.monitor=n,this.connector=i}var e=t.prototype;return e.beginDrag=function(){var n=this.spec,i=this.monitor,o=null;return typeof n.item=="object"?o=n.item:typeof n.item=="function"?o=n.item(i):o={},o!=null?o:null},e.canDrag=function(){var n=this.spec,i=this.monitor;return typeof n.canDrag=="boolean"?n.canDrag:typeof n.canDrag=="function"?n.canDrag(i):!0},e.isDragging=function(n,i){var o=this.spec,s=this.monitor,a=o.isDragging;return a?a(s):i===n.getSourceId()},e.endDrag=function(){var n=this.spec,i=this.monitor,o=this.connector,s=n.end;s&&s(i.getItem(),i),o.reconnect()},t}();function Zr(t,e,r){var n=m(function(){return new Kr(c(t),c(e),c(r))});return b(function(){n.value.spec=c(t)}),n}function P(){var t=ct();return g(t!=null,"Expected drag drop context"),t}function en(t){return m(function(){var e=c(t).type;return g(e!=null,"spec.type must be defined"),e})}function Te(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tn(t){if(Array.isArray(t))return t}function rn(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function nn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function on(t,e){return tn(t)||rn(t,e)||sn(t,e)||nn()}function sn(t,e){if(!!t){if(typeof t=="string")return Te(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Te(t,e)}}function an(t,e,r){var n=P(),i=Zr(t,e,r),o=en(t);b(function(a){if(c(o)!=null){var u=on(Jr(c(o),c(i),c(n)),2),l=u[0],h=u[1];c(e).receiveHandlerId(l),c(r).receiveHandlerId(l),a(h)}})}function qe(t){return m(function(){return typeof t=="function"?t():t})}function un(){var t=P();return m(function(){return new Lr(c(t))})}function cn(t,e){var r=P(),n=m(function(){return new Wr(c(r).getBackend())});return b(function(i){n.value.dragSourceOptions=c(t)||null,c(n).reconnect(),i(function(){n.value.disconnectDragSource()})}),b(function(i){n.value.dragPreviewOptions=c(e)||null,c(n).reconnect(),i(function(){n.value.disconnectDragPreview()})}),n}var Be=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};function ln(t,e,r){var n=Ee(c(e)(c(t))),i=function(){var o=c(e)(c(t));Be(n.value,o)||(n.value=o,r&&r())};return b(i),[n,i]}function Oe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dn(t){if(Array.isArray(t))return t}function fn(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function gn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hn(t,e){return dn(t)||fn(t,e)||pn(t,e)||gn()}function pn(t,e){if(!!t){if(typeof t=="string")return Oe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oe(t,e)}}function vn(t,e,r){var n=hn(ln(t,e,r),2),i=n[0],o=n[1];return b(function(a){var u=c(t).getHandlerId();u!=null&&a(c(t).subscribeToStateChange(o,{handlerIds:[u]}))}),i}function Ve(t,e,r){var n=function(){return{}};return vn(e,t||n,function(){return c(r).reconnect()})}function oe(t,e){var r=_e({el:null,options:c(e)});b(function(){t(r)},{flush:"post"});var n=function(i,o){ce(r,"el",i);var s=c(e)||o;return Be(r.options,s)||ce(r,"options",s),c(i)};return n}function yn(t,e){return oe(function(r){c(t).hooks.dragSource()(r.el,r.options)},m(function(){return c(e).options}))}function mn(t,e){return oe(function(r){c(t).hooks.dragPreview()(r.el,r.options)},m(function(){return c(e).previewOptions}))}function Dn(t){var e=qe(t),r=un(),n=cn(m(function(){return c(e).options}),m(function(){return c(e).previewOptions}));return an(e,r,n),[Ve(m(function(){return c(e).collect||function(){return{}}}),r,n),yn(n,e),mn(n,e)]}function Sn(t){return m(function(){var e=c(t).accept;return g(e!=null,"accept must be defined"),Array.isArray(e)?e:[e]})}function Tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var On=function(){function t(r,n){Tn(this,t),this.spec=r,this.monitor=n}var e=t.prototype;return e.canDrop=function(){var n=this.spec,i=this.monitor;return n.canDrop?n.canDrop(i.getItem(),i):!0},e.hover=function(){var n=this.spec,i=this.monitor;n.hover&&n.hover(i.getItem(),i)},e.drop=function(){var n=this.spec,i=this.monitor;if(n.drop)return n.drop(i.getItem(),i)},t}();function In(t,e){var r=m(function(){return new On(c(t),c(e))});return b(function(){r.value.spec=c(t)}),r}function Ie(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bn(t){if(Array.isArray(t))return t}function Cn(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}function wn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function En(t,e){return bn(t)||Cn(t,e)||_n(t,e)||wn()}function _n(t,e){if(!!t){if(typeof t=="string")return Ie(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ie(t,e)}}function xn(t,e,r){var n=P(),i=In(t,e),o=Sn(t);b(function(a){var u=En(zr(o,i,n),2),l=u[0],h=u[1];c(e).receiveHandlerId(l),c(r).receiveHandlerId(l),a(h)})}function Pn(){var t=P();return m(function(){return new kr(c(t))})}function Nn(t){var e=P(),r=m(function(){return new Xr(c(e).getBackend())});return b(function(n){r.value.dropTargetOptions=c(t)||null,r.value.reconnect(),n(function(){return r.value.disconnectDropTarget()})}),r}function Rn(t,e){return oe(function(r){c(t).hooks.dropTarget()(r.el,r.options)},m(function(){return c(e).options}))}function We(t){var e=qe(t),r=Pn(),n=Nn(m(function(){return c(e).options}));return xn(e,r,n),[Ve(m(function(){return c(e).collect||function(){return{}}}),r,n),Rn(n,e)]}const Mn={class:"wrapper"},Ln=["data-handler-id"],An={__name:"storyItem",props:{id:{type:Number},text:{type:String},index:{type:Number,default:Number}},setup(t){const e=t,r=Ee(),[n,i]=We({accept:"card",collect(f){return{handlerId:f.getHandlerId(),isShallowOver:f.isOver({shallow:!0}),item:f.getItem()}},hover(f,d){var E;if(!r.value)return;const D=f.index,p=e.index;if(D===p)return;const y=(E=r.value)==null?void 0:E.getBoundingClientRect(),S=(y.bottom-y.top)/2,C=d.getClientOffset().y-y.top;D<p&&C<S||D>p&&C>S||(f.index=p)}}),[o,s]=Dn({type:"card",item:()=>({id:e.id,index:e.index}),collect:f=>({isDragging:f.isDragging(),item:f.getItem()})}),{handlerId:a,isShallowOver:u}=W(n),{isDragging:l}=W(o),h=m(()=>c(l)?.4:1),v=f=>{r.value=s(i(f))};return(f,d)=>(w(),x("div",Mn,[xe("div",{ref:v,class:"card",style:Ne({opacity:h.value}),"data-handler-id":c(a)},Pe(t.text),13,Ln),c(u)&&!c(l)?(w(),x("div",{key:0,class:it(["indicator",{first:e.index===0}])},null,2)):ot("",!0)]))}},kn=K(An,[["__scopeId","data-v-4fa44a2d"]]),Hn={class:"progressHeader"},$n=Q({__name:"progressItem",props:{accept:Array,lastDroppedItem:Object,onDrop:Function,state:String},setup(t){const e=t,[r,n]=We({accept:e.accept,drop:e.onDrop,collect:u=>({isOver:u.isOver(),canDrop:u.canDrop()})}),{canDrop:i,isOver:o}=W(r),s=m(()=>c(i)&&c(o)),a=m(()=>c(s)?"1px solid green":(c(i),"1px solid #eee"));return(u,l)=>(w(),x("div",{ref:c(n),class:"progressItem",role:"Dustbin",style:Ne({border:a.value}),"data-testid":"dustbin"},[xe("div",Hn,Pe(t.state),1),st(u.$slots,"default",{},void 0,!0)],4))}});const jn=K($n,[["__scopeId","data-v-1853f5eb"]]);const Un={class:"progressLayout"},Fn={__name:"container",setup(t){const e=_e({progressList:[{id:1,state:"\u5F85\u529E",storyList:[{id:1,name:"story1",taskList:[{id:1,text:"Write a cool JS library"}]},{id:11,name:"story11",taskList:[{id:1,text:"Write a cool JS library"}]},{id:12,name:"story12",taskList:[{id:1,text:"Write a cool JS library"}]}]},{id:2,state:"\u8FDB\u884C\u4E2D",storyList:[{id:2,name:"story2",taskList:[{id:1,text:"Write a cool JS library"}]},{id:23,name:"story23",taskList:[{id:1,text:"Write a cool JS library"}]},{id:24,name:"story24",taskList:[{id:1,text:"Write a cool JS library"}]}]},{id:3,state:"\u5DF2\u5B8C\u6210",storyList:[{id:35,name:"story3",taskList:[{id:1,text:"Write a cool JS library"},{id:2,text:"Make it generic enough"},{id:3,text:"Write README"},{id:4,text:"Create some examples"},{id:5,text:"Spam in Twitter and IRC to promote it (note that this element is taller than the others)"},{id:6,text:"???"},{id:7,text:"PROFIT"}]}]}]}),r=(i,{id:o,index:s})=>{console.log(i,o,s);const a=e.progressList[i].storyList.findIndex(f=>f.id===o);if(a!==-1){const f=e.progressList[i].storyList,d={...f[a]};f.splice(a,1),f.splice(s,0,d);return}const u=n(o),l=e.progressList[i].storyList,h=e.progressList[u.index].storyList,v={...h[u.storyIndex]};h.splice(u.storyIndex,1),l.splice(s,0,v)},n=i=>{for(let o=0;o<e.progressList.length;o++){const a=e.progressList[o].storyList.findIndex(u=>u.id===i);if(a!==-1)return{index:o,storyIndex:a}}};return(i,o)=>(w(),x("div",Un,[(w(!0),x(ae,null,ue(e.progressList,(s,a)=>(w(),G(jn,{key:s.id,accept:["card"],onDrop:u=>r(a,u),state:s.state},{default:Re(()=>[(w(!0),x(ae,null,ue(s.storyList,(u,l)=>(w(),G(kn,{id:u.id,key:u.id,text:u.name,index:l},null,8,["id","text","index"]))),128))]),_:2},1032,["onDrop","state"]))),128))]))}},qn=K(Fn,[["__scopeId","data-v-a2e1fd6e"]]);function Ge(t){let e=null;return()=>(e==null&&(e=t()),e)}function Bn(t,e){return t.filter(r=>r!==e)}function Vn(t,e){const r=new Set,n=o=>r.add(o);t.forEach(n),e.forEach(n);const i=[];return r.forEach(o=>i.push(o)),i}class Wn{enter(e){const r=this.entered.length,n=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=Vn(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=Bn(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Gn{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const i=this.config.exposeProperties[n];i!=null&&(r[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Ye="__NATIVE_FILE__",Xe="__NATIVE_URL__",ze="__NATIVE_TEXT__",Je="__NATIVE_HTML__",be=Object.freeze(Object.defineProperty({__proto__:null,FILE:Ye,URL:Xe,TEXT:ze,HTML:Je},Symbol.toStringTag,{value:"Module"}));function B(t,e,r){const n=e.reduce((i,o)=>i||t.getData(o),"");return n!=null?n:r}const J={[Ye]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Je]:{exposeProperties:{html:(t,e)=>B(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Xe]:{exposeProperties:{urls:(t,e)=>B(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[ze]:{exposeProperties:{text:(t,e)=>B(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Yn(t,e){const r=J[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new Gn(r);return n.loadDataTransfer(e),n}function V(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(J).filter(r=>{const n=J[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const Xn=Ge(()=>/firefox/i.test(navigator.userAgent)),Qe=Ge(()=>Boolean(window.safari));class Ce{interpolate(e){const{xs:r,ys:n,c1s:i,c2s:o,c3s:s}=this;let a=r.length-1;if(e===r[a])return n[a];let u=0,l=s.length-1,h;for(;u<=l;){h=Math.floor(.5*(u+l));const d=r[h];if(d<e)u=h+1;else if(d>e)l=h-1;else return n[h]}a=Math.max(0,l);const v=e-r[a],f=v*v;return n[a]+i[a]*v+o[a]*f+s[a]*v*f}constructor(e,r){const{length:n}=e,i=[];for(let d=0;d<n;d++)i.push(d);i.sort((d,D)=>e[d]<e[D]?-1:1);const o=[],s=[];let a,u;for(let d=0;d<n-1;d++)a=e[d+1]-e[d],u=r[d+1]-r[d],o.push(a),s.push(u/a);const l=[s[0]];for(let d=0;d<o.length-1;d++){const D=s[d],p=s[d+1];if(D*p<=0)l.push(0);else{a=o[d];const y=o[d+1],S=a+y;l.push(3*S/((S+y)/D+(S+a)/p))}}l.push(s[s.length-1]);const h=[],v=[];let f;for(let d=0;d<l.length-1;d++){f=s[d];const D=l[d],p=1/o[d],y=D+l[d+1]-f-f;h.push((f-D-y)*p),v.push(y*p*p)}this.xs=e,this.ys=r,this.c1s=l,this.c2s=h,this.c3s=v}}const zn=1;function Ke(t){const e=t.nodeType===zn?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function R(t){return{x:t.clientX,y:t.clientY}}function Jn(t){var e;return t.nodeName==="IMG"&&(Xn()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Qn(t,e,r,n){let i=t?e.width:r,o=t?e.height:n;return Qe()&&t&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function Kn(t,e,r,n,i){const o=Jn(e),a=Ke(o?t:e),u={x:r.x-a.x,y:r.y-a.y},{offsetWidth:l,offsetHeight:h}=t,{anchorX:v,anchorY:f}=n,{dragPreviewWidth:d,dragPreviewHeight:D}=Qn(o,e,l,h),p=()=>{let se=new Ce([0,.5,1],[u.y,u.y/h*D,u.y+D-h]).interpolate(f);return Qe()&&o&&(se+=(window.devicePixelRatio-1)*D),se},y=()=>new Ce([0,.5,1],[u.x,u.x/l*d,u.x+d-l]).interpolate(v),{offsetX:S,offsetY:T}=i,C=S===0||S,E=T===0||T;return{x:C?S:y(),y:E?T:p()}}class Zn{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function ei(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function we(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){ei(t,i,r[i])})}return t}class ti{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const i=s=>this.handleDragStart(s,e),o=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",i),r.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",i),r.removeEventListener("selectstart",o),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=s=>this.handleDragEnter(s,e),i=s=>this.handleDragOver(s,e),o=s=>this.handleDrop(s,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",i),r.addEventListener("drop",o),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",i),r.removeEventListener("drop",o)}}addEventListeners(e){!e.addEventListener||(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){!e.removeEventListener||(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return we({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return we({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(be).some(r=>be[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Yn(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&Ke(o)||null},this.endDragNativeItem=()=>{!this.isDraggingNativeItem()||(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>Boolean(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const s=R(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:a}=i,u=V(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const h=this.monitor.getSourceId(),v=this.sourceNodes.get(h),f=this.sourcePreviewNodes.get(h)||v;if(f){const{anchorX:d,anchorY:D,offsetX:p,offsetY:y}=this.getCurrentSourcePreviewNodeOptions(),C=Kn(v,f,s,{anchorX:d,anchorY:D},{offsetX:p,offsetY:y});a.setDragImage(f,C.x,C.y)}}try{a==null||a.setData("application/json",{})}catch(h){}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:l}=this.getCurrentSourcePreviewNodeOptions();l?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(a&&!a.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:a}=i,u=V(a);u&&this.beginDragNativeItem(u,a)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,o.length>0&&this.actions.hover(o,{clientOffset:R(i)}),o.some(a=>this.monitor.canDropOnTarget(a))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=R(i),this.scheduleHover(o),(o||[]).some(a=>this.monitor.canDropOnTarget(a))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;i.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}else V(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:R(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const o=i.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(i.preventDefault(),o.dragDrop()))},this.options=new Zn(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Wn(this.isNodeInDocument)}}const ri=function(e,r,n){return new ti(e,r,n)},si={__name:"index",setup(t){return(e,r)=>(w(),G(c(Rr),{backend:c(ri)},{default:Re(()=>[at(qn)]),_:1},8,["backend"]))}};export{si as default};
